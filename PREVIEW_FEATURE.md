# 🔍 預覽功能說明

## 新增功能：設定預覽

在開始製作完整電子書之前，你現在可以先預覽設定的效果！

## 📋 功能說明

### 預覽按鈕
- 位置：控制面板上方的綠色按鈕「🔍 預覽設定效果」
- 功能：快速截取一個頁面的量來顯示
- 用途：確認參數設定是否正確

### 預覽內容
預覽視窗會顯示：
1. **當前設定參數**
   - 截圖間隔
   - 每頁行數
   - 字幕區域高度

2. **實際截圖範例**
   - 從當前播放時間開始
   - 按照設定的間隔和行數截取
   - 顯示實際的字幕區域截圖

3. **調整建議**
   - 如果字幕位置不正確 → 調整「字幕區域高度」
   - 如果字幕太密集/稀疏 → 調整「截圖間隔」或「每頁行數」

## 🎯 使用流程

```
1. 在YouTube影片頁面，找到有字幕的時間點
   ↓
2. 暫停影片在該位置
   ↓
3. 點擊擴充功能圖示
   ↓
4. 調整參數（截圖間隔、每頁行數、字幕高度）
   ↓
5. 點擊「🔍 預覽設定效果」
   ↓
6. 查看預覽結果
   ├─ 滿意 → 關閉預覽，點擊「開始製作電子書」
   └─ 不滿意 → 調整參數，再次預覽
```

## 💡 使用建議

### 建議預覽時機
1. **第一次使用** - 了解不同參數的效果
2. **切換影片** - 不同影片的字幕位置可能不同
3. **調整參數後** - 確認新設定的效果

### 如何選擇預覽位置
- 選擇有清晰字幕的時間點
- 最好選擇字幕變化較多的片段
- 避免選擇沒有字幕的片段

### 參數調整技巧

#### 字幕位置不正確
```
現象：截圖只有一半字幕，或完全沒有字幕
解決：
- 字幕太高 → 增加「字幕區域高度」（例如從15改成20）
- 字幕太低 → 減少「字幕區域高度」（例如從15改成10）
```

#### 字幕太密集
```
現象：一頁內的字幕重複太多
解決：
- 增加「截圖間隔」（例如從2秒改成3秒）
- 或減少「每頁行數」（例如從5行改成3行）
```

#### 字幕太稀疏
```
現象：一頁內的字幕太少，中間有空檔
解決：
- 減少「截圖間隔」（例如從3秒改成2秒）
- 或增加「每頁行數」（例如從3行改成5行）
```

## 🎨 預覽視窗功能

### 視窗元素
1. **標題列**
   - 顯示「📋 預覽效果」
   - 顯示當前設定參數
   - 右上角關閉按鈕（✕）

2. **內容區域**
   - 提示訊息（綠色區塊）
   - N行字幕截圖（N = 每頁行數）
   - 每行顯示時間戳記

3. **底部區域**
   - 調整建議提示
   - 「確定」按鈕關閉預覽

### 快捷操作
- 點擊「✕」關閉預覽
- 點擊「確定」關閉預覽
- 按 ESC 鍵關閉預覽（未來功能）

## 📊 預覽 vs 完整製作

| 功能 | 預覽 | 完整製作 |
|------|------|---------|
| 截圖數量 | 一頁的量（3-10張） | 整個影片（數百張） |
| 處理時間 | 10-30秒 | 5-30分鐘 |
| 影片暫停 | 是，會恢復 | 是，直到完成 |
| 資料儲存 | 否 | 是 |
| 可翻頁 | 否 | 是 |
| 音訊播放 | 否 | 是 |

## 🔧 技術細節

### 預覽流程
```javascript
1. 儲存當前播放位置
2. 暫停影片
3. 從當前時間開始截取N張圖（N = 每頁行數）
4. 每張間隔時間 = 設定的截圖間隔
5. 恢復原始播放位置
6. 顯示預覽視窗
```

### 特色
- **不影響播放** - 預覽後自動恢復原位置
- **即時顯示** - 幾秒內完成預覽
- **可重複使用** - 調整參數後立即再次預覽

## 🎯 實際應用範例

### 範例1：調整字幕高度
```
1. 預覽發現字幕只顯示上半部
2. 將「字幕區域高度」從15改成20
3. 再次預覽，確認字幕完整顯示
4. 開始製作電子書
```

### 範例2：調整截圖間隔
```
1. 預覽發現5行字幕幾乎都一樣（字幕變化慢）
2. 將「截圖間隔」從2秒改成5秒
3. 再次預覽，確認字幕變化較明顯
4. 開始製作電子書
```

### 範例3：調整每頁行數
```
1. 預覽發現只有3行字幕，想要看更多
2. 將「每頁行數」從3行改成7行
3. 再次預覽，確認一頁能看到更多內容
4. 開始製作電子書
```

## ⚠️ 注意事項

### 預覽限制
1. **需要有字幕** - 預覽位置需要有字幕才能看到效果
2. **不儲存資料** - 預覽截圖不會儲存，關閉即消失
3. **暫時暫停** - 預覽時會暫停影片（自動恢復）

### 最佳實踐
1. **先預覽再製作** - 避免參數設定錯誤浪費時間
2. **多次預覽** - 調整參數後都預覽一次
3. **選好位置** - 在有代表性的字幕位置預覽

## 🆚 與舊版差異

### v0.1.0（舊版）
- ❌ 無法預先確認設定
- ❌ 需要完整製作才能看到效果
- ❌ 參數錯誤需要重新製作

### v0.2.0（新版）
- ✅ 可預覽設定效果
- ✅ 快速確認參數正確性
- ✅ 調整後立即看到結果
- ✅ 節省時間，提高成功率

## 📸 截圖示例

### 預覽視窗外觀
```
┌────────────────────────────────────────┐
│ 📋 預覽效果                      [✕]  │
│ 截圖間隔: 2秒  每頁行數: 5行  ...      │
├────────────────────────────────────────┤
│ 💡 這是一個頁面會顯示的內容範例：      │
│                                        │
│ ┌──────────────────────────┐ 00:10   │
│ │ [字幕截圖1]              │          │
│ └──────────────────────────┘          │
│                                        │
│ ┌──────────────────────────┐ 00:12   │
│ │ [字幕截圖2]              │          │
│ └──────────────────────────┘          │
│                                        │
│ ... (共5行)                            │
│                                        │
├────────────────────────────────────────┤
│ 💡 如果字幕位置不正確，請調整...       │
│ 💡 如果字幕太密集或太稀疏，請...       │
│                                        │
│          [     確定     ]              │
└────────────────────────────────────────┘
```

## 🎉 總結

預覽功能讓你能夠：
- ✅ **快速驗證** - 幾秒內確認設定
- ✅ **避免錯誤** - 減少重新製作的次數
- ✅ **調整優化** - 輕鬆找到最佳參數
- ✅ **提高效率** - 節省製作時間

**使用建議**：每次製作前先預覽，確認設定正確後再開始！
