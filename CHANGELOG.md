# 更新日誌 (CHANGELOG)

## [v2.0.0] - 2026-01-23

### 🎉 重大版本更新 - 全新架構

此版本進行了全面性的重構與升級，帶來現代化的使用者介面與強大的功能擴展。

### ✨ 全新功能

#### Side Panel 架構
- **現代化側邊面板**：取代傳統彈出視窗，提供更大操作空間
- **深色主題設計**：優雅的視覺體驗
- **手風琴式設定**：進階設定摺疊收納，介面更簡潔
- **滑桿式參數調整**：直覺的互動體驗

#### 書庫管理系統 (Library Manager)
- **📚 統一管理介面**：所有儲存段落集中管理
- **🔍 搜尋與排序**：快速找到目標內容
- **☑️ 批次選取**：多段落同時操作
- **📊 統計資訊**：段落總數、總時長等統計

#### 多格式導出
- **📄 PDF 導出**
  - 單段落導出
  - 多段落合併導出
  - 自訂頁面配置
- **📖 HTML 有聲書**
  - 完整互動式介面
  - 可離線播放
  - 內嵌音訊與字幕
- **💾 資料備份**
  - JSON 格式完整導出
  - 支援導入還原

#### 智慧擷取模式 (Beta)
- **🤖 字幕變化偵測**：偵測到變化才截圖
- **⚙️ 可調參數**：
  - 靈敏度 (2-50%)
  - 最小像素比例
  - 檢測區域寬度
  - 檢測頻率
- **🎨 字幕顏色過濾**：白色/黃色/任意
- **📍 上方字幕自動偵測**

### 🔧 技術改進

#### 架構優化
- **Manifest V3**：符合最新 Chrome 擴充功能標準
- **Side Panel API**：使用原生側邊面板功能
- **Background Service Worker**：更高效的背景處理
- **模組化設計**：
  - `sidepanel.js` - 側邊面板邏輯
  - `library.js` - 書庫管理
  - `subtitleDetection.js` - 字幕偵測

#### 儲存優化
- **解決 64MB 限制**：大型資料分片儲存
- **即時同步**：編輯後立即寫入 Storage
- **資料一致性**：防止 Race Condition

#### UI/UX 增強
- **滑桿進度指示**：視覺化參數調整
- **Toast 通知系統**：操作回饋更清晰
- **確認對話框**：危險操作二次確認

### 🎨 介面改進

- 全新深色主題配色
- 滑桿式參數控制
- 摺疊式進階設定
- 固定式底部按鈕列
- 美化捲動條
- 響應式布局

### 📝 文件更新

- 全面更新所有 Markdown 文件
- 新增 V2.0 功能說明
- 更新技術架構文件
- 新增書庫管理指南

---

## [v0.3.0] - 2026-01-21
 
### ✨ 新增功能
- **插入截圖功能 (Insert Below)**
  - 在閱讀器中可「向下插入」複製截圖
  - 支援獨立調整插入截圖的時間戳記與影像
  - 解決漏掉字幕或需要補充說明的場景
- **播放控制增強**
  - 新增靜音控制 (Mute Toggle)
  - 新增倍速播放控制 (1.0x, 1.25x, 1.5x, 2.0x)
  - 製作時自動靜音並加速 (2.0x) 以提升效率
- **雙視窗即時閱讀架構**
  - 截圖與閱讀器分離為兩個分頁 (Dual Tab)
  - 支援邊截圖邊閱讀/編輯
  - 確保資料即時同步與保存，不會被覆寫

### 🔧 技術改進
- **Reader Tab 架構**：將閱讀器從 Content Script 移至獨立頁面 (reader.html)
- **資料同步優化**：解決 Capture 與 Reader 間的 Race Condition
- **持久化儲存**：所有的編輯操作直接寫入 Chrome Storage
- **UI 優化**：重新設計閱讀器控制列，整合播放與編輯按鈕

### 🎯 使用者體驗提升
- ✅ 製作速度大幅提升 (自動加速)
- ✅ 編輯靈活性提高 (可插入、刪除)
- ✅ 閱讀體驗更佳 (獨立視窗、倍速播放)

---
 
## [v0.2.0] - 2026-01-19

### ✨ 新增功能
- **預覽設定效果** - 在製作前可先預覽一個頁面的截圖
  - 新增綠色「🔍 預覽設定效果」按鈕
  - 快速截取當前位置的N張字幕（N = 每頁行數）
  - 顯示美觀的預覽視窗
  - 包含參數顯示和調整建議
  - 預覽後自動恢復播放位置

### 🎨 介面改進
- popup.html：新增預覽按鈕（綠色）
- 預覽視窗：全新設計的預覽介面

### 📝 文件更新
- 新增 PREVIEW_FEATURE.md - 預覽功能詳細說明
- 更新 README.md - 加入預覽步驟說明
- 新增 CHANGELOG.md

---

## [v0.1.0] - 2026-01-19

### 🎉 初始版本
- ✅ 基本截圖功能
- ✅ 頁面組合功能
- ✅ 全螢幕閱讀器
- ✅ 音訊同步播放
- ✅ 進度追蹤
- ✅ 參數配置

### 核心功能
- 自動截取 YouTube 影片字幕區域
- 組合成多行字幕的頁面
- 全螢幕閱讀模式
- 翻頁時同步播放對應音訊
- 可調整截圖間隔和每頁行數

---

## 版本說明

### 版本號規則
- **主版本號 (Major)**: 重大功能變更或架構改變
- **次版本號 (Minor)**: 新增功能
- **修訂號 (Patch)**: 錯誤修正和小改進

### 圖例
- ✨ 新增功能
- 🎨 介面改進
- 🔧 技術改進
- 🐛 錯誤修正
- 📝 文件更新
- 🎯 使用者體驗提升
- ⚡ 效能優化
- 🔒 安全性改進
- 🎉 重大更新

---

## 未來計劃

### v2.1.0（計劃中）
- [ ] 字幕去重功能
- [ ] 智慧分頁（根據字幕變化）
- [ ] 鍵盤快捷鍵支援

### v2.2.0（計劃中）
- [ ] 書籤功能
- [ ] 閱讀進度記憶
- [ ] 雲端同步

### v3.0.0（未來）
- [ ] OCR 文字提取
- [ ] 搜尋功能
- [ ] 筆記功能
- [ ] 多語言介面支援

---

## 回饋與建議

如果你有任何功能建議或發現問題，歡迎提交 Issue！
