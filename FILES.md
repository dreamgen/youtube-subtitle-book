# å°ˆæ¡ˆæª”æ¡ˆæ¸…å–® V2.0

## ğŸ“‚ å®Œæ•´æª”æ¡ˆçµæ§‹

```
youtube-subtitle-book-v2/
â”‚
â”œâ”€â”€ ğŸ“± æ ¸å¿ƒé…ç½®
â”‚   â”œâ”€â”€ manifest.json          (1.0 KB)  - Chrome æ“´å……åŠŸèƒ½é…ç½®ï¼ˆV3ï¼‰
â”‚   â””â”€â”€ background.js          (1.1 KB)  - èƒŒæ™¯ Service Worker
â”‚
â”œâ”€â”€ ğŸ›ï¸ å´é‚Šé¢æ¿ (Side Panel)
â”‚   â”œâ”€â”€ sidepanel.html        (15.7 KB)  - å´é‚Šé¢æ¿ UI
â”‚   â”œâ”€â”€ sidepanel.js          (20.2 KB)  - å´é‚Šé¢æ¿é‚è¼¯
â”‚   â””â”€â”€ theme.css              (2.4 KB)  - å…±ç”¨ä¸»é¡Œæ¨£å¼
â”‚
â”œâ”€â”€ ğŸ“· æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ content.js            (91.3 KB)  - æˆªåœ–æ ¸å¿ƒåŠŸèƒ½
â”‚   â”œâ”€â”€ content.css           (10.2 KB)  - å½±ç‰‡é é¢æ¨£å¼
â”‚   â””â”€â”€ subtitleDetection.js   (7.4 KB)  - æ™ºæ…§å­—å¹•åµæ¸¬
â”‚
â”œâ”€â”€ ğŸ“– é–±è®€å™¨
â”‚   â”œâ”€â”€ reader.html            (5.9 KB)  - é–±è®€å™¨é é¢
â”‚   â”œâ”€â”€ reader.js             (32.4 KB)  - é–±è®€å™¨é‚è¼¯
â”‚   â””â”€â”€ reader.css            (11.5 KB)  - é–±è®€å™¨æ¨£å¼
â”‚
â”œâ”€â”€ ğŸ“š æ›¸åº«ç®¡ç†
â”‚   â”œâ”€â”€ library.html           (9.3 KB)  - æ›¸åº«ç®¡ç† UI
â”‚   â”œâ”€â”€ library.js            (30.6 KB)  - æ›¸åº«ç®¡ç†é‚è¼¯
â”‚   â”œâ”€â”€ all-libraries.html     (7.9 KB)  - å…¨éƒ¨æ›¸åº« UI
â”‚   â””â”€â”€ all-libraries.js      (13.6 KB)  - å…¨éƒ¨æ›¸åº«é‚è¼¯
â”‚
â”œâ”€â”€ ğŸ“„ å¤–éƒ¨åº«
â”‚   â””â”€â”€ jspdf.umd.min.js     (364.5 KB)  - PDF ç”Ÿæˆåº«
â”‚
â”œâ”€â”€ ğŸ–¼ï¸ åœ–ç¤ºæª”æ¡ˆ
â”‚   â”œâ”€â”€ icon16.png             (253 B)   - 16x16 åœ–ç¤º
â”‚   â”œâ”€â”€ icon48.png             (570 B)   - 48x48 åœ–ç¤º
â”‚   â””â”€â”€ icon128.png            (1.7 KB)  - 128x128 åœ–ç¤º
â”‚
â”œâ”€â”€ ğŸ› ï¸ å·¥å…·
â”‚   â”œâ”€â”€ create-icons.html      (2.9 KB)  - åœ–ç¤ºç”¢ç”Ÿå·¥å…·
â”‚   â””â”€â”€ test-delete-button.js  (3.3 KB)  - æ¸¬è©¦è…³æœ¬
â”‚
â”œâ”€â”€ ğŸ“š ä½¿ç”¨æ–‡ä»¶
â”‚   â”œâ”€â”€ START_HERE.md          (4.7 KB)  - ğŸŒŸ å°ˆæ¡ˆå…¥å£
â”‚   â”œâ”€â”€ QUICK_START.md         (2.7 KB)  - 5åˆ†é˜å¿«é€Ÿé–‹å§‹
â”‚   â”œâ”€â”€ README.md              (7.2 KB)  - å®Œæ•´èªªæ˜
â”‚   â”œâ”€â”€ INSTALLATION.md        (4.4 KB)  - å®‰è£æŒ‡å—
â”‚   â””â”€â”€ PREVIEW_FEATURE.md     (7.0 KB)  - é è¦½åŠŸèƒ½èªªæ˜
â”‚
â”œâ”€â”€ ğŸ“ é–‹ç™¼æ–‡ä»¶
â”‚   â”œâ”€â”€ PROJECT_OVERVIEW.md    (7.1 KB)  - æŠ€è¡“æ¶æ§‹
â”‚   â”œâ”€â”€ FILES.md               (æœ¬æª”æ¡ˆ)  - æª”æ¡ˆæ¸…å–®
â”‚   â”œâ”€â”€ WORKFLOW.md           (18.7 KB)  - æµç¨‹åœ–
â”‚   â”œâ”€â”€ COMPLETED_FEATURES.md  (5.1 KB)  - å·²å®ŒæˆåŠŸèƒ½
â”‚   â””â”€â”€ CHANGELOG.md           (5.8 KB)  - ç‰ˆæœ¬æ›´æ–°æ—¥èªŒ
â”‚
â”œâ”€â”€ ğŸ”§ é™¤éŒ¯æ–‡ä»¶
â”‚   â”œâ”€â”€ DEBUG_GUIDE.md         (6.0 KB)  - é™¤éŒ¯æŒ‡å—
â”‚   â”œâ”€â”€ CURRENT_STATUS.md      (4.5 KB)  - ç•¶å‰ç‹€æ…‹
â”‚   â”œâ”€â”€ TEST_CHECKLIST.md      (4.8 KB)  - æ¸¬è©¦æ¸…å–®
â”‚   â””â”€â”€ QUICK_TEST_GUIDE.md    (5.8 KB)  - å¿«é€Ÿæ¸¬è©¦æŒ‡å—
â”‚
â””â”€â”€ ğŸ“Š æ­·å²ä¿®å¾©æ–‡ä»¶
    â”œâ”€â”€ BUG_FIX_SUMMARY.md     (7.2 KB)
    â”œâ”€â”€ DELETE_BUTTON_FIX.md   (7.8 KB)
    â”œâ”€â”€ DELETE_BUTTON_TEST.md  (6.2 KB)
    â”œâ”€â”€ DEBUG_DELETE_BUTTON.md (7.0 KB)
    â””â”€â”€ STORAGE_SYNC_FIX.md    (8.3 KB)
```

**ç¸½è¨ˆï¼š41 å€‹æª”æ¡ˆ**

---

## ğŸ“„ æª”æ¡ˆåŠŸèƒ½èªªæ˜

### æ ¸å¿ƒé…ç½®

#### manifest.json
```json
Chrome æ“´å……åŠŸèƒ½çš„é…ç½®æª”æ¡ˆ
å®šç¾©ï¼š
- æ“´å……åŠŸèƒ½åç¨±å’Œç‰ˆæœ¬ (v2.0.0)
- æ¬Šé™éœ€æ±‚ (storage, sidePanel, tabs, unlimitedStorage)
- Service Worker (background.js)
- Side Panel è·¯å¾‘
- Content Scripts
```

#### background.js
```javascript
èƒŒæ™¯ Service Worker
è² è²¬ï¼š
- Side Panel å•Ÿå‹•æ§åˆ¶
- æ“´å……åŠŸèƒ½åœ–ç¤ºé»æ“Šè™•ç†
- è·¨é é¢è¨Šæ¯ä¸­ç¹¼
```

---

### å´é‚Šé¢æ¿ (Side Panel)

#### sidepanel.html
```html
å´é‚Šé¢æ¿çš„ UI çµæ§‹
åŒ…å«ï¼š
- åŸºæœ¬åƒæ•¸è¨­å®šï¼ˆæ¯é è¡Œæ•¸ã€ç¯„åœã€é–‹å§‹æ™‚é–“ï¼‰
- é€²éšè¨­å®šæ‰‹é¢¨ç´ï¼ˆå­—å¹•é«˜åº¦ã€æ™ºæ…§åµæ¸¬é¸é …ï¼‰
- æ›¸åº«ç®¡ç†å€åŸŸ
- é€²åº¦é¡¯ç¤ºå€
- å›ºå®šåº•éƒ¨æŒ‰éˆ•åˆ—
```

#### sidepanel.js
```javascript
å´é‚Šé¢æ¿çš„é‚è¼¯
è² è²¬ï¼š
- è¨­å®šåƒæ•¸ç®¡ç†
- é–‹å§‹/åœæ­¢æ“·å–æ§åˆ¶
- é€²åº¦æ›´æ–°è™•ç†
- æ›¸åº«è¼‰å…¥èˆ‡åˆªé™¤
- é–‹å•Ÿæ›¸åº«ç®¡ç†å™¨
```

#### theme.css
```css
å…±ç”¨ä¸»é¡Œæ¨£å¼
å®šç¾©ï¼š
- æ·±è‰²ä¸»é¡Œè®Šæ•¸
- æŒ‰éˆ•æ¨£å¼
- è¡¨å–®å…ƒç´ æ¨£å¼
- å¡ç‰‡èˆ‡å®¹å™¨
```

---

### æ ¸å¿ƒåŠŸèƒ½

#### content.js â­ æ ¸å¿ƒ
```javascript
ä¸»è¦åŠŸèƒ½å¯¦ä½œï¼ˆæœ€å¤§æª”æ¡ˆï¼‰
åŒ…å«ï¼š
- startCapture() - å®šæ™‚æ“·å–æµç¨‹
- startSmartCapture() - æ™ºæ…§åµæ¸¬æ“·å–
- createPages() - çµ„åˆé é¢
- openViewer() - åµŒå…¥å¼é–±è®€å™¨
- handleReaderAdjustment() - ç·¨è¼¯è™•ç†
- syncToAllStorage() - è³‡æ–™åŒæ­¥
```

#### subtitleDetection.js
```javascript
æ™ºæ…§å­—å¹•åµæ¸¬æ¨¡çµ„
åŒ…å«ï¼š
- åƒç´ å·®ç•°æ¯”å°
- å­—å¹•é¡è‰²éæ¿¾
- è®ŠåŒ–é–¾å€¼åˆ¤æ–·
```

#### content.css
```css
å½±ç‰‡é é¢æ¨£å¼
å®šç¾©ï¼š
- é è¦½è¦–çª—æ¨£å¼
- åµŒå…¥å¼é–±è®€å™¨æ¨£å¼
- é€²åº¦æŒ‡ç¤ºå™¨
```

---

### é–±è®€å™¨

#### reader.html
```html
ç¨ç«‹é–±è®€å™¨é é¢
åŒ…å«ï¼š
- é é¢é¡¯ç¤ºå®¹å™¨
- å°èˆªæ§åˆ¶åˆ—
- ç·¨è¼¯å·¥å…·åˆ—
- Toast é€šçŸ¥å€
```

#### reader.js
```javascript
é–±è®€å™¨é‚è¼¯
åŒ…å«ï¼š
- showPage() - é é¢æ¸²æŸ“
- adjustScreenshot() - æˆªåœ–ç·¨è¼¯
- playPageAudio() - éŸ³è¨Šæ’­æ”¾
- openTimeScrubberModal() - æ™‚é–“èª¿æ•´
```

#### reader.css
```css
é–±è®€å™¨æ¨£å¼
å®šç¾©ï¼š
- å…¨è¢å¹•é»‘è‰²èƒŒæ™¯
- æˆªåœ–åˆ—è¡¨å¸ƒå±€
- æ§åˆ¶æŒ‰éˆ•æ¨£å¼
- å‹•ç•«æ•ˆæœ
```

---

### æ›¸åº«ç®¡ç†

#### library.html / library.js
```javascript
å–®ä¸€å½±ç‰‡æ›¸åº«ç®¡ç†
åŠŸèƒ½ï¼š
- è¼‰å…¥è©²å½±ç‰‡æ‰€æœ‰æ®µè½
- æœå°‹èˆ‡æ’åº
- æ‰¹æ¬¡é¸å–èˆ‡æ“ä½œ
- PDF/HTML å°å‡º
```

#### all-libraries.html / all-libraries.js
```javascript
å…¨éƒ¨æ›¸åº«ç®¡ç†
åŠŸèƒ½ï¼š
- è·¨å½±ç‰‡æ®µè½ç®¡ç†
- è³‡æ–™å°å…¥/å°å‡º
- æ‰¹æ¬¡åˆªé™¤
```

---

## ğŸ”„ æª”æ¡ˆä¾è³´é—œä¿‚

```
manifest.json
    â”‚
    â”œâ”€â”€â–º background.js
    â”‚
    â”œâ”€â”€â–º sidepanel.html
    â”‚       â”œâ”€â”€â–º sidepanel.js
    â”‚       â”œâ”€â”€â–º theme.css
    â”‚       â””â”€â”€â–º jspdf.umd.min.js
    â”‚
    â”œâ”€â”€â–º content.js
    â”‚       â”œâ”€â”€â–º subtitleDetection.js
    â”‚       â””â”€â”€â–º content.css
    â”‚
    â””â”€â”€â–º reader.html
            â”œâ”€â”€â–º reader.js
            â””â”€â”€â–º reader.css

library.html â”€â”€â–º library.js
all-libraries.html â”€â”€â–º all-libraries.js
```

---

## ğŸ“Š æª”æ¡ˆé‡è¦æ€§æ’åº

### ğŸ”´ å¿…è¦æª”æ¡ˆï¼ˆæ ¸å¿ƒé‹ä½œï¼‰
1. manifest.json - æ“´å……åŠŸèƒ½é…ç½®
2. background.js - èƒŒæ™¯æœå‹™
3. sidepanel.html/js - æ§åˆ¶ä»‹é¢
4. content.js - æ ¸å¿ƒæˆªåœ–åŠŸèƒ½
5. reader.html/js - é–±è®€å™¨

### ğŸŸ¡ é‡è¦æª”æ¡ˆï¼ˆå®Œæ•´åŠŸèƒ½ï¼‰
6. subtitleDetection.js - æ™ºæ…§åµæ¸¬
7. library.html/js - æ›¸åº«ç®¡ç†
8. jspdf.umd.min.js - PDF å°å‡º
9. theme.css - å…±ç”¨æ¨£å¼
10. reader.css/content.css - æ¨£å¼

### ğŸŸ¢ è¼”åŠ©æª”æ¡ˆï¼ˆå¹«åŠ©ä½¿ç”¨ï¼‰
11. ä½¿ç”¨æ–‡ä»¶ (README, QUICK_START ç­‰)
12. é–‹ç™¼æ–‡ä»¶ (PROJECT_OVERVIEW ç­‰)
13. åœ–ç¤ºæª”æ¡ˆ

### âšª åƒè€ƒæª”æ¡ˆï¼ˆæ­·å²è¨˜éŒ„ï¼‰
14. é™¤éŒ¯æ–‡ä»¶
15. æ­·å²ä¿®å¾©æ–‡ä»¶

---

## ğŸ“ ä¿®æ”¹å»ºè­°

### æƒ³èª¿æ•´ UI æ¨£å¼ï¼Ÿ
â†’ ä¿®æ”¹ `theme.css`ï¼ˆå…±ç”¨ï¼‰æˆ–å€‹åˆ¥ CSS æª”æ¡ˆ

### æƒ³æ”¹è®Šæˆªåœ–é‚è¼¯ï¼Ÿ
â†’ ä¿®æ”¹ `content.js` ä¸­çš„ `startCapture()` æˆ– `startSmartCapture()`

### æƒ³èª¿æ•´æ™ºæ…§åµæ¸¬åƒæ•¸ï¼Ÿ
â†’ ä¿®æ”¹ `subtitleDetection.js`

### æƒ³æ–°å¢æ›¸åº«åŠŸèƒ½ï¼Ÿ
â†’ ä¿®æ”¹ `library.js`

### æƒ³æ”¹è®Šé–±è®€å™¨å¸ƒå±€ï¼Ÿ
â†’ ä¿®æ”¹ `reader.js` å’Œ `reader.css`

---

## âœ… å®Œæ•´æ€§æª¢æŸ¥

ä½¿ç”¨æ­¤æ¸…å–®ç¢ºèªæ‰€æœ‰æ ¸å¿ƒæª”æ¡ˆï¼š

- [ ] manifest.json
- [ ] background.js
- [ ] sidepanel.html
- [ ] sidepanel.js
- [ ] theme.css
- [ ] content.js
- [ ] content.css
- [ ] subtitleDetection.js
- [ ] reader.html
- [ ] reader.js
- [ ] reader.css
- [ ] library.html
- [ ] library.js
- [ ] jspdf.umd.min.js
- [ ] icon16.png
- [ ] icon48.png
- [ ] icon128.png

**å…± 17 å€‹æ ¸å¿ƒæª”æ¡ˆ**

---

**ä¸‹ä¸€æ­¥**: é–‹å•Ÿ [START_HERE.md](START_HERE.md) é–‹å§‹ä½¿ç”¨ï¼
